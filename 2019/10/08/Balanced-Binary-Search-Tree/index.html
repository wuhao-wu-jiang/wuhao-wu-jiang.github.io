<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Helvetica:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.24.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="It is the depth of the binary search that affects the performance of it. We say that a binary search tree with \(n\) nodes is balanced if its depth is of order \(O(\log n)\) (hence we can perform f">
<meta property="og:type" content="article">
<meta property="og:title" content="Balanced Binary Search Tree">
<meta property="og:url" content="http://example.com/2019/10/08/Balanced-Binary-Search-Tree/index.html">
<meta property="og:site_name" content="WOW">
<meta property="og:description" content="It is the depth of the binary search that affects the performance of it. We say that a binary search tree with \(n\) nodes is balanced if its depth is of order \(O(\log n)\) (hence we can perform f">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-10-08T15:49:33.000Z">
<meta property="article:modified_time" content="2019-10-11T01:17:57.000Z">
<meta property="article:author" content="WOW">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2019/10/08/Balanced-Binary-Search-Tree/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2019/10/08/Balanced-Binary-Search-Tree/","path":"2019/10/08/Balanced-Binary-Search-Tree/","title":"Balanced Binary Search Tree"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Balanced Binary Search Tree | WOW</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">WOW</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">你生之前悠悠千載已逝<br>未來還會有千年沉寂的期待</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#by-the-number-of-elements-of-the-subtree."><span class="nav-number">1.</span> <span class="nav-text">By the number of
elements of the subtree.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#by-the-height-of-the-subtree-avl-tree"><span class="nav-number">2.</span> <span class="nav-text">By the height of the
subtree (AVL Tree)</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">WOW</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">201</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/10/08/Balanced-Binary-Search-Tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="WOW">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WOW">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Balanced Binary Search Tree | WOW">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Balanced Binary Search Tree
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-10-08 11:49:33" itemprop="dateCreated datePublished" datetime="2019-10-08T11:49:33-04:00">2019-10-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2019-10-10 21:17:57" itemprop="dateModified" datetime="2019-10-10T21:17:57-04:00">2019-10-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>It is the depth of the binary search that affects the performance of
it. We say that a binary search tree with <span
class="math inline">\(n\)</span> nodes is balanced if its depth is of
order <span class="math inline">\(O(\log n)\)</span> (hence we can
perform find, insert and delete operations in time <span
class="math inline">\(O(\log n)\)</span>).</p>
<p>If a tree is unbalanced, we can maintain the balance by rotation.
Further, we need some criteria to guide the rotation. In what's follows
we discuss some of the popular design of the criteria.</p>
<h4 id="by-the-number-of-elements-of-the-subtree.">By the number of
elements of the subtree.</h4>
<p>Denote a note <span class="math inline">\(v\)</span> and its left and
right child <span class="math inline">\(v.left\)</span> and <span
class="math inline">\(v.right\)</span> respectively. Define the size of
<span class="math inline">\(v\)</span> (<span
class="math inline">\(s(v)\)</span>) the number of elements contained in
the subtree rooted at <span class="math inline">\(v\)</span>.</p>
<p>A critical observation is that, if for each node <span
class="math inline">\(v\)</span> of the tree, the size of each of it
subtrees is at most a constant fraction <span
class="math inline">\(\big(\)</span> denoted as <span
class="math inline">\(\epsilon \in (\frac{1}{2}, 1)\)</span>; Exercise:
why can't we pick <span class="math inline">\(\epsilon \in [0,
\frac{1}{2}] \big)\)</span> of its size, i.e., <span
class="math display">\[
s(v.left) \le \epsilon s(v) \\
s(v.right) \le \epsilon s(v)
\]</span> then the depth of the tree is in the order of <span
class="math inline">\(O(\log n)\)</span>. The reason is obvious: let
<span class="math inline">\(r = v_0, v_1, v_2, ..., v_k\)</span> be any
root-to-leaf path of the tree, then <span class="math display">\[
s(v_1) \le \epsilon s(v_0) \\
s(v_2) \le \epsilon s(v_1) \\
...\\
s(v_k) \le \epsilon s(v_{k - 1})
\]</span> it follows that <span class="math inline">\(1 = s(v_k) \le
\epsilon^k s(v_0) = \epsilon^k n\)</span> and <span
class="math inline">\(k \le \log_\epsilon \frac{1}{n} = O(\log
n)\)</span>.</p>
<p>Therefore, we can pick arbitrary <span class="math inline">\(\epsilon
\in (\frac{1}{2}, 1)\)</span> and maintain this criteria explicitly and
recursively.</p>
<p>WLOG, suppose a new element is inserted into the left subtree of a
vertex <span class="math inline">\(v\)</span>. Denote the new size
function <span class="math inline">\(s\)</span> as <span
class="math inline">\(s&#39;\)</span> after insertion. If after
insertion, <span class="math inline">\(s&#39;(v.left) \le \epsilon
s&#39;(v)\)</span>, we do nothing and check the balance of <span
class="math inline">\(v\)</span>'s parent (if there is any). Otherwise,
we may try a right rotation on <span class="math inline">\(v\)</span>:
<span class="math display">\[
\begin{aligned}
&amp;\qquad \qquad v \\
&amp;/           &amp;\setminus \\
&amp;v.left      &amp;&amp;v.right \\
/           &amp;\setminus \\
v.left.left &amp; \quad v.left.right
\end{aligned}
\]</span> the subtree transform into: <span class="math display">\[
\begin{aligned}
&amp;\qquad \qquad v.left \\
&amp;/         &amp;\setminus \\
v.left.left     &amp;&amp; v\\
           &amp;&amp;/  &amp;\setminus \\
&amp;&amp; v.left.right &amp; \quad v.right
\end{aligned}
\]</span> Since before insertion, <span class="math inline">\(s(v.left)
\le \epsilon s(v)\)</span>, it holds that <span
class="math inline">\(s&#39;(v.left.left) \le \epsilon s&#39;(v.left) =
\epsilon (s(v) + 1)\)</span>. Therefore, the left subtree no longer
violate the balance constraint. However, the constraint could be
violated by the right subtree. Since it is possible that <span
class="math display">\[
s&#39;(v.left.right) + s&#39;(v.right) + 1 &gt; \epsilon s&#39;(v.left)
= \epsilon (s(v)  + 1)
\]</span> For example, suppose that <span class="math inline">\(\epsilon
= 0.8\)</span> and <span class="math inline">\(s(v.left.right) = 0.8
s(v.left) = 0.64 s(v)\)</span> and <span
class="math inline">\(s(v.right) = 0.2 s(v) - 1\)</span>, then <span
class="math display">\[
s(v.left.right) + s(v.right) + 1 = 0.84 s(v)
\]</span> The reason is that there is so much weight that <span
class="math inline">\(v.left.right\)</span> has. Therefore, we don't
want to rotate it to the right subtree. An alternative is to perform a
left rotate on the left subtree first <span class="math display">\[
\begin{aligned}
&amp;\qquad \qquad v \\
&amp;/           &amp;\setminus \\
&amp;v.left.right      &amp;&amp;v.right \\
/           &amp;\setminus \\
v.left &amp; \quad v.left.right.right \\
/ \setminus &amp; \\
v.left.left &amp; \quad v.left.right.left
\end{aligned}
\]</span> Followed by a right rotation on <span
class="math inline">\(v\)</span>: <span class="math display">\[
\begin{aligned}
&amp;\qquad \qquad v.left.right  \\
&amp;/           &amp;\setminus \\
&amp;v.left     &amp;&amp;v \\
/ &amp;\setminus   &amp;&amp;/ \setminus\\
v.left.left &amp;\quad v.left.right.left&amp; \quad v.left.right.right
&amp;\quad v.right\\
\end{aligned}
\]</span></p>
<p>To satisfy the balance requirement, we require that</p>
<ol type="1">
<li><span class="math inline">\(s&#39;&#39;(v.left.right.left) =
s&#39;(v.left.right.left) \le \epsilon s&#39;&#39;(v.left) = \epsilon
(s&#39;(v.left) - s&#39;(v.left.right.right) -1 )\)</span>.</li>
<li><span class="math inline">\(s&#39;(v.left.left) \le
s&#39;(v.left)\)</span></li>
<li><span class="math inline">\(s&#39;(v.left.right.right) +
s&#39;(v.right) + 1 \le \epsilon
s&#39;(v.left.right)\)</span></li>
</ol>
<p>Condition 1 implies that <span
class="math inline">\(s&#39;(v.left.right.right)\)</span> can take up
too much weight of <span class="math inline">\(s&#39;(v.left)\)</span>,
which imposes an upper bound on <span
class="math inline">\(\epsilon\)</span> by <span class="math display">\[
(1 - \epsilon) \epsilon s&#39;(v.left) - 1 \le \epsilon (s&#39;(v.left)
- \epsilon^2s&#39;(v.left) - 1)
\]</span></p>
<h4 id="by-the-height-of-the-subtree-avl-tree">By the height of the
subtree (AVL Tree)</h4>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/09/18/Divided-by-Three/" rel="prev" title="Divided by Three">
                  <i class="fa fa-angle-left"></i> Divided by Three
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/10/28/Minimax-Theorem/" rel="next" title="Minimax Theorem">
                  Minimax Theorem <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">WOW</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
